<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title> AJAX JSON 响应 </title>
	<style type="text/css">
		#result{
			width: 200px;
			height: 200px;
			border: 1px solid red;
		}
	</style>
</head>
<body>
	<!-- 键盘按下任意键，发送请求，响应体内容呈现在div内 -->
	<div id="result"></div>

	<script type="text/javascript">
			
		const result = document.getElementById("result");

		window.onkeydown = function(){
			const xhr = new XMLHttpRequest();
			xhr.responseType = "json"; // 自动转换
			xhr.open("GET","http://127.0.0.1:8000/json-server");
			xhr.send();

			xhr.onreadystatechange = function(){
				if(xhr.readyState == 4 && xhr.status == 200){

					// 手动转换
					// let data = JSON.parse(xhr.response);
					// result.innerHTML = data.name;

					// 自动转换
					result.innerHTML = xhr.response.name;
				}
			}
		}

	</script>

</body>
</html>