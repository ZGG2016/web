<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>promise基本使用</title>
</head>
<body>
<script>
    // promsie 相当于一个容器，保存着未来才会结束的事件（异步操作）的一个结果【就是下面的状态】
    // promsie 提供统一的api，使得各种异步操作都可以用同样的方法进行处理 （axios内部就是使用promise）

    // 特点：
    // 1. 对象的状态不受外界影响
    // 2. 处理异步操作的三个状态： pending(进行中) fulfilled(成功)  rejected(失败)
    // 3. 状态只能由 pending 变为 fulfilled 或 由 pending 变为 rejected
    // 4. 状态改变之后不会在发生变化，会一直保持这个状态，任何时候都可以得到这个结果

    // resolve : 将Promise对象的状态从 Pending(进行中) 变为 Fulfilled(已成功)
    // reject : 将Promise对象的状态从 Pending(进行中) 变为 Rejected(已失败)
    // resolve 和 reject 都可以传入任意类型的值作为实参，
    //    表示 Promise 对象成功（Fulfilled）和失败（Rejected）的值
    // let promise = new Promise(function (resolve, reject) {
    //     // 执行异步操作
    //     let res = {
    //         code: 201,
    //         data: {
    //             name: 'zhangsan'
    //         }
    //     }
    //     setTimeout(() => {
    //         if (res.code === 200) {
    //             resolve(res.data);
    //         } else {
    //             reject("失败了");
    //         }
    //     }, 1000)
    // });
    // console.log(promise);
    // // then 方法的两个参数
    // // The callback to execute when the Promise is resolved.
    // // The callback to execute when the Promise is rejected.
    // promise.then((val)=>{  // 在 `resolve(res.data);` 中，给 resolve 传的参数在这里接收
    //     console.log(val);
    // },(err)=>{
    //     console.log(err);
    // })

    // 将定时器的时间参数作为函数形参
    function timeOut(ms) {
        return new Promise((resolve,reject)=>{
            setTimeout(()=>{
                resolve("成功了");
            },ms)
        })
    }
    timeOut(1000).then((val)=>{
        console.log(val);
    })

</script>
</body>
</html>